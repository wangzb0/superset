"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(globalThis["webpackChunksuperset"] = globalThis["webpackChunksuperset"] || []).push([["plugins_legacy-plugin-chart-event-flow_src_transformProps_ts"],{

/***/ "./plugins/legacy-plugin-chart-event-flow/src/transformProps.ts":
/*!**********************************************************************!*\
  !*** ./plugins/legacy-plugin-chart-event-flow/src/transformProps.ts ***!
  \**********************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ transformProps)\n/* harmony export */ });\n/* harmony import */ var _data_ui_event_flow__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @data-ui/event-flow */ \"./node_modules/@data-ui/event-flow/build/index.js\");\n/* harmony import */ var _data_ui_event_flow__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_data_ui_event_flow__WEBPACK_IMPORTED_MODULE_0__);\n/* module decorator */ module = __webpack_require__.hmd(module);\n(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;};\nfunction transformProps(chartProps) {\n  const { formData, queriesData, width, height } = chartProps;\n  const { allColumnsX, entity, minLeafNodeEventCount } = formData;\n  const { data } = queriesData[0];\n  const hasData = data && data.length > 0;\n  if (hasData) {\n    const userKey = entity;\n    const eventNameKey = allColumnsX;\n    // map from the Superset form fields to <EventFlow />'s expected data keys\n    const accessorFunctions = {\n      [_data_ui_event_flow__WEBPACK_IMPORTED_MODULE_0__.ENTITY_ID]: (datum) => String(datum[userKey]),\n      [_data_ui_event_flow__WEBPACK_IMPORTED_MODULE_0__.EVENT_NAME]: (datum) => datum[eventNameKey],\n      [_data_ui_event_flow__WEBPACK_IMPORTED_MODULE_0__.TS]: (datum) =>\n      // eslint-disable-next-line no-underscore-dangle\n      datum.__timestamp || datum.__timestamp === 0 ?\n      // eslint-disable-next-line no-underscore-dangle\n      new Date(datum.__timestamp) :\n      null };\n\n    const cleanData = (0,_data_ui_event_flow__WEBPACK_IMPORTED_MODULE_0__.cleanEvents)(data, accessorFunctions);\n    return {\n      data: cleanData,\n      height,\n      initialMinEventCount: minLeafNodeEventCount,\n      width };\n\n  }\n  return { data: null, height, width };\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(transformProps, \"transformProps\", \"D:\\\\work\\\\PublicProject\\\\superset\\\\superset-frontend\\\\plugins\\\\legacy-plugin-chart-event-flow\\\\src\\\\transformProps.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wbHVnaW5zL2xlZ2FjeS1wbHVnaW4tY2hhcnQtZXZlbnQtZmxvdy9zcmMvdHJhbnNmb3JtUHJvcHMudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQW1CQTtBQWVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwZXJzZXQvLi9wbHVnaW5zL2xlZ2FjeS1wbHVnaW4tY2hhcnQtZXZlbnQtZmxvdy9zcmMvdHJhbnNmb3JtUHJvcHMudHM/NDQyMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxyXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcclxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cclxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxyXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXHJcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxyXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcclxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cclxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXHJcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcclxuICogdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5pbXBvcnQgeyBDaGFydFByb3BzLCBUaW1lc2VyaWVzRGF0YVJlY29yZCB9IGZyb20gJ0BzdXBlcnNldC11aS9jb3JlJztcclxuaW1wb3J0IHsgY2xlYW5FdmVudHMsIFRTLCBFVkVOVF9OQU1FLCBFTlRJVFlfSUQgfSBmcm9tICdAZGF0YS11aS9ldmVudC1mbG93JztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRGbG93Rm9ybURhdGEge1xyXG4gIGFsbENvbHVtbnNYOiBzdHJpbmc7XHJcbiAgZW50aXR5OiBzdHJpbmc7XHJcbiAgbWluTGVhZk5vZGVFdmVudENvdW50OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRXZlbnRGbG93Q2hhcnRQcm9wcyBleHRlbmRzIENoYXJ0UHJvcHMge1xyXG4gIGZvcm1EYXRhOiBFdmVudEZsb3dGb3JtRGF0YTtcclxuICBxdWVyaWVzRGF0YToge1xyXG4gICAgZGF0YTogVGltZXNlcmllc0RhdGFSZWNvcmRbXTtcclxuICB9W107XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zZm9ybVByb3BzKGNoYXJ0UHJvcHM6IENoYXJ0UHJvcHMpIHtcclxuICBjb25zdCB7IGZvcm1EYXRhLCBxdWVyaWVzRGF0YSwgd2lkdGgsIGhlaWdodCB9ID1cclxuICAgIGNoYXJ0UHJvcHMgYXMgRXZlbnRGbG93Q2hhcnRQcm9wcztcclxuICBjb25zdCB7IGFsbENvbHVtbnNYLCBlbnRpdHksIG1pbkxlYWZOb2RlRXZlbnRDb3VudCB9ID0gZm9ybURhdGE7XHJcbiAgY29uc3QgeyBkYXRhIH0gPSBxdWVyaWVzRGF0YVswXTtcclxuXHJcbiAgY29uc3QgaGFzRGF0YSA9IGRhdGEgJiYgZGF0YS5sZW5ndGggPiAwO1xyXG4gIGlmIChoYXNEYXRhKSB7XHJcbiAgICBjb25zdCB1c2VyS2V5ID0gZW50aXR5O1xyXG4gICAgY29uc3QgZXZlbnROYW1lS2V5ID0gYWxsQ29sdW1uc1g7XHJcblxyXG4gICAgLy8gbWFwIGZyb20gdGhlIFN1cGVyc2V0IGZvcm0gZmllbGRzIHRvIDxFdmVudEZsb3cgLz4ncyBleHBlY3RlZCBkYXRhIGtleXNcclxuICAgIGNvbnN0IGFjY2Vzc29yRnVuY3Rpb25zID0ge1xyXG4gICAgICBbRU5USVRZX0lEXTogKGRhdHVtOiBUaW1lc2VyaWVzRGF0YVJlY29yZCkgPT4gU3RyaW5nKGRhdHVtW3VzZXJLZXldKSxcclxuICAgICAgW0VWRU5UX05BTUVdOiAoZGF0dW06IFRpbWVzZXJpZXNEYXRhUmVjb3JkKSA9PlxyXG4gICAgICAgIGRhdHVtW2V2ZW50TmFtZUtleV0gYXMgc3RyaW5nLFxyXG4gICAgICBbVFNdOiAoZGF0dW06IFRpbWVzZXJpZXNEYXRhUmVjb3JkKTogRGF0ZSB8IG51bGwgPT5cclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZXJzY29yZS1kYW5nbGVcclxuICAgICAgICBkYXR1bS5fX3RpbWVzdGFtcCB8fCBkYXR1bS5fX3RpbWVzdGFtcCA9PT0gMFxyXG4gICAgICAgICAgPyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZXJzY29yZS1kYW5nbGVcclxuICAgICAgICAgICAgbmV3IERhdGUoZGF0dW0uX190aW1lc3RhbXApXHJcbiAgICAgICAgICA6IG51bGwsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGNsZWFuRGF0YSA9IGNsZWFuRXZlbnRzKGRhdGEsIGFjY2Vzc29yRnVuY3Rpb25zKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBkYXRhOiBjbGVhbkRhdGEsXHJcbiAgICAgIGhlaWdodCxcclxuICAgICAgaW5pdGlhbE1pbkV2ZW50Q291bnQ6IG1pbkxlYWZOb2RlRXZlbnRDb3VudCxcclxuICAgICAgd2lkdGgsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHsgZGF0YTogbnVsbCwgaGVpZ2h0LCB3aWR0aCB9O1xyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./plugins/legacy-plugin-chart-event-flow/src/transformProps.ts\n");

/***/ })

}]);